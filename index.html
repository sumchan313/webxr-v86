const indexTip = landmarks[8];
const thumbTip = landmarks[4];
const pinchDistance = Math.hypot(
  indexTip.x - thumbTip.x,
  indexTip.y - thumbTip.y
);

// Convert to scene coordinates
const x = (indexTip.x - 0.5) * 2;
const y = -(indexTip.y - 0.5) * 2;
const z = -0.5; // fixed depth for simplicity

const pinchThreshold = 0.05;
const grabRadius = 0.3;

if (pinchDistance < pinchThreshold) {
  const distToCube = Math.hypot(
    cube.position.x - x,
    cube.position.y - y
  );

  if (!isGrabbing && distToCube < grabRadius) {
    isGrabbing = true;
  }

  if (isGrabbing) {
    cube.position.set(x, y, z);
  }
} else {
  isGrabbing = false;
}
